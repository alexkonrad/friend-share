Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (29.4ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (3.6ms)[0m  CREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20130814184542)
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (3.4ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "username" character varying(255) NOT NULL, "password_digest" character varying(255) NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE UNIQUE INDEX "index_users_on_username" ON "users" ("username")
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20130814184542')[0m
  [1m[35m (0.9ms)[0m  COMMIT
Migrating to AddSessionTokenToUsers (20130814223245)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.4ms)[0m  ALTER TABLE "users" ADD COLUMN "session_token" character varying(255) NOT NULL
  [1m[36m (2.0ms)[0m  [1mCREATE UNIQUE INDEX "index_users_on_session_token" ON "users" ("session_token")[0m
  [1m[35m (0.3ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20130814223245')
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to CreateSecrets (20130826014054)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (2.4ms)[0m  [1mCREATE TABLE "secrets" ("id" serial primary key, "title" character varying(255) NOT NULL, "author_id" integer NOT NULL, "recipient_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (0.8ms)[0m  CREATE INDEX "index_secrets_on_author_id" ON "secrets" ("author_id")
  [1m[36m (0.8ms)[0m  [1mCREATE INDEX "index_secrets_on_recipient_id" ON "secrets" ("recipient_id")[0m
  [1m[35m (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ('20130826014054')
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.3ms)[0m  SELECT "schema_migrations"."version" FROM "schema_migrations" 
Connecting to database specified by database.yml


Started GET "/" for 127.0.0.1 at 2014-02-07 08:58:08 -0500
Processing by UsersController#show as HTML
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1[0m
Redirected to http://localhost:3000/session/new
Filter chain halted as :require_current_user! rendered or redirected
Completed 302 Found in 57ms (ActiveRecord: 7.2ms)


Started GET "/session/new" for 127.0.0.1 at 2014-02-07 08:58:08 -0500
Processing by SessionsController#new as HTML
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1
  Rendered sessions/new.html.erb within layouts/application (2.5ms)
Compiled sessions.css  (34ms)  (pid 7241)
Compiled users.css  (1ms)  (pid 7241)
Compiled application.css  (68ms)  (pid 7241)
Compiled jquery.js  (2ms)  (pid 7241)
Compiled jquery_ujs.js  (0ms)  (pid 7241)
Compiled sessions.js  (450ms)  (pid 7241)
Compiled users.js  (152ms)  (pid 7241)
Compiled application.js  (688ms)  (pid 7241)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1[0m
Completed 200 OK in 851ms (Views: 849.4ms | ActiveRecord: 0.6ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 08:58:09 -0500
Served asset /application.css - 200 OK (8ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 08:58:09 -0500
Served asset /sessions.css - 200 OK (1ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-02-07 08:58:09 -0500
Served asset /jquery_ujs.js - 200 OK (2ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 08:58:09 -0500
Served asset /users.css - 200 OK (3ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 08:58:09 -0500
Served asset /sessions.js - 200 OK (2ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 08:58:09 -0500
Served asset /jquery.js - 200 OK (1ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 08:58:09 -0500
Served asset /users.js - 200 OK (1ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 08:58:09 -0500
Served asset /application.js - 200 OK (5ms)
Connecting to database specified by database.yml


Started GET "/session/new" for 127.0.0.1 at 2014-02-07 09:12:40 -0500
Processing by SessionsController#new as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1
  Rendered sessions/new.html.erb within layouts/application (0.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1[0m
Completed 200 OK in 47ms (Views: 32.6ms | ActiveRecord: 4.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:12:40 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:12:40 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:12:40 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:12:40 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:12:40 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:12:40 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:12:40 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:12:40 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/user/1" for 127.0.0.1 at 2014-02-07 09:12:49 -0500

ActionController::RoutingError (No route matches [GET] "/user/1"):
  actionpack (3.2.13) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.13) lib/rails/rack/logger.rb:32:in `call_app'
  railties (3.2.13) lib/rails/rack/logger.rb:16:in `block in call'
  activesupport (3.2.13) lib/active_support/tagged_logging.rb:22:in `tagged'
  railties (3.2.13) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.5) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.5) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.13) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.5) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/static.rb:63:in `call'
  railties (3.2.13) lib/rails/engine.rb:479:in `call'
  railties (3.2.13) lib/rails/application.rb:223:in `call'
  rack (1.4.5) lib/rack/content_length.rb:14:in `call'
  railties (3.2.13) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.5) lib/rack/handler/webrick.rb:59:in `service'
  /Users/appacademy/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /Users/appacademy/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /Users/appacademy/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /Users/appacademy/.rvm/gems/ruby-1.9.3-p392/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.8ms)


Started GET "/users/1" for 127.0.0.1 at 2014-02-07 09:12:55 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1
Redirected to http://localhost:3000/session/new
Filter chain halted as :require_current_user! rendered or redirected
Completed 302 Found in 2ms (ActiveRecord: 0.4ms)


Started GET "/session/new" for 127.0.0.1 at 2014-02-07 09:12:55 -0500
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1[0m
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1
Completed 200 OK in 13ms (Views: 12.4ms | ActiveRecord: 0.3ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:12:55 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:12:55 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:12:55 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:12:55 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:12:55 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:12:55 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:12:55 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/users/new" for 127.0.0.1 at 2014-02-07 09:13:04 -0500
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1[0m
  Rendered users/_form.html.erb (1.0ms)
  Rendered users/new.html.erb within layouts/application (24.8ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1
Completed 200 OK in 46ms (Views: 37.4ms | ActiveRecord: 0.4ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:04 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:04 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:04 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:04 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:04 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:04 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:04 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started POST "/users" for 127.0.0.1 at 2014-02-07 09:13:23 -0500
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"QAq02Sx45ZZpiVMxH4fg1fq0u+3PFd4mx9P+TO9+gG0=", "user"=>{"username"=>"Sennacy", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (65.3ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "session_token", "updated_at", "username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Fri, 07 Feb 2014 14:13:24 UTC +00:00], ["password_digest", "$2a$10$Dw5oCWCjPsZ7MRaAaoBBceMqn26VSRyohWR1nKmJScJ5t7DCpInX."], ["session_token", "GN9L2pXLdC941dipMLiqGQ"], ["updated_at", Fri, 07 Feb 2014 14:13:24 UTC +00:00], ["username", "Sennacy"]]
  [1m[35m (0.5ms)[0m  COMMIT
Redirected to http://localhost:3000/users/1
Completed 302 Found in 145ms (ActiveRecord: 66.7ms)


Started GET "/users/1" for 127.0.0.1 at 2014-02-07 09:13:24 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'GN9L2pXLdC941dipMLiqGQ' LIMIT 1[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mSecret Load (0.4ms)[0m  [1mSELECT "secrets".* FROM "secrets" WHERE "secrets"."recipient_id" = 1[0m
  Rendered users/show.html.erb within layouts/application (61.1ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'GN9L2pXLdC941dipMLiqGQ' LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'GN9L2pXLdC941dipMLiqGQ' LIMIT 1[0m
Completed 200 OK in 78ms (Views: 72.1ms | ActiveRecord: 3.9ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:24 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:24 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:24 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:24 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:24 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:24 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:24 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:24 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:24 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started DELETE "/session" for 127.0.0.1 at 2014-02-07 09:13:27 -0500
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"QAq02Sx45ZZpiVMxH4fg1fq0u+3PFd4mx9P+TO9+gG0="}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'GN9L2pXLdC941dipMLiqGQ' LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'GN9L2pXLdC941dipMLiqGQ' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.6ms)[0m  [1mUPDATE "users" SET "session_token" = 'neEeaodtxfdtU83a3Qrf3Q', "updated_at" = '2014-02-07 14:13:27.593040' WHERE "users"."id" = 1[0m
  [1m[35m (1.7ms)[0m  COMMIT
Redirected to http://localhost:3000/session/new
Completed 302 Found in 7ms (ActiveRecord: 2.9ms)


Started GET "/session/new" for 127.0.0.1 at 2014-02-07 09:13:27 -0500
Processing by SessionsController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1[0m
  Rendered sessions/new.html.erb within layouts/application (0.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1
Completed 200 OK in 13ms (Views: 12.3ms | ActiveRecord: 0.3ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:27 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:27 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:27 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:27 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:27 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:27 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:27 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/users/new" for 127.0.0.1 at 2014-02-07 09:13:36 -0500
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1[0m
  Rendered users/_form.html.erb (0.3ms)
  Rendered users/new.html.erb within layouts/application (0.9ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:36 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:36 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:36 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:36 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:36 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:36 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:36 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:36 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started POST "/users" for 127.0.0.1 at 2014-02-07 09:13:43 -0500
Processing by UsersController#create as HTML
  Parameters: {"authenticity_token"=>"QAq02Sx45ZZpiVMxH4fg1fq0u+3PFd4mx9P+TO9+gG0=", "user"=>{"username"=>"Jonathan", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "users" ("created_at", "password_digest", "session_token", "updated_at", "username") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", Fri, 07 Feb 2014 14:13:43 UTC +00:00], ["password_digest", "$2a$10$GxxqG5GIeqEpt7/lkr3HG.9BeI.QvtDFEWOg8a7.Maue2K4XgwPkK"], ["session_token", "HcK_xz0Z2pn139w0bOypCw"], ["updated_at", Fri, 07 Feb 2014 14:13:43 UTC +00:00], ["username", "Jonathan"]]
  [1m[35m (25.4ms)[0m  COMMIT
Redirected to http://localhost:3000/users/2
Completed 302 Found in 104ms (ActiveRecord: 26.7ms)


Started GET "/users/2" for 127.0.0.1 at 2014-02-07 09:13:43 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "2"]]
  [1m[36mSecret Load (0.5ms)[0m  [1mSELECT "secrets".* FROM "secrets" WHERE "secrets"."recipient_id" = 2[0m
  Rendered users/show.html.erb within layouts/application (1.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
Completed 200 OK in 17ms (Views: 14.0ms | ActiveRecord: 1.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:43 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:43 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:43 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:43 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:43 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:43 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:43 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/users/1" for 127.0.0.1 at 2014-02-07 09:13:54 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mSecret Load (0.4ms)[0m  SELECT "secrets".* FROM "secrets" WHERE "secrets"."recipient_id" = 1
  Rendered users/show.html.erb within layouts/application (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
Completed 200 OK in 21ms (Views: 17.2ms | ActiveRecord: 1.5ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:54 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:54 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:54 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:54 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:54 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:13:54 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:54 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:13:54 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/users/1/secrets/new" for 127.0.0.1 at 2014-02-07 09:14:02 -0500
Processing by SecretsController#new as HTML
  Parameters: {"id"=>"1"}
  Rendered secrets/new.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
Completed 200 OK in 15ms (Views: 13.6ms | ActiveRecord: 0.7ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:14:02 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:14:02 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:14:02 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:14:02 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:14:02 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:14:02 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:14:02 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:14:02 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started POST "/users/1/secrets/secrets_url" for 127.0.0.1 at 2014-02-07 09:14:13 -0500

ActionController::RoutingError (No route matches [POST] "/users/1/secrets/secrets_url"):
  actionpack (3.2.13) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'
  railties (3.2.13) lib/rails/rack/logger.rb:32:in `call_app'
  railties (3.2.13) lib/rails/rack/logger.rb:16:in `block in call'
  activesupport (3.2.13) lib/active_support/tagged_logging.rb:22:in `tagged'
  railties (3.2.13) lib/rails/rack/logger.rb:16:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/request_id.rb:22:in `call'
  rack (1.4.5) lib/rack/methodoverride.rb:21:in `call'
  rack (1.4.5) lib/rack/runtime.rb:17:in `call'
  activesupport (3.2.13) lib/active_support/cache/strategy/local_cache.rb:72:in `call'
  rack (1.4.5) lib/rack/lock.rb:15:in `call'
  actionpack (3.2.13) lib/action_dispatch/middleware/static.rb:63:in `call'
  railties (3.2.13) lib/rails/engine.rb:479:in `call'
  railties (3.2.13) lib/rails/application.rb:223:in `call'
  rack (1.4.5) lib/rack/content_length.rb:14:in `call'
  railties (3.2.13) lib/rails/rack/log_tailer.rb:17:in `call'
  rack (1.4.5) lib/rack/handler/webrick.rb:59:in `service'
  /Users/appacademy/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:138:in `service'
  /Users/appacademy/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/httpserver.rb:94:in `run'
  /Users/appacademy/.rvm/rubies/ruby-1.9.3-p392/lib/ruby/1.9.1/webrick/server.rb:191:in `block in start_thread'


  Rendered /Users/appacademy/.rvm/gems/ruby-1.9.3-p392/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/routing_error.erb within rescues/layout (0.5ms)


Started GET "/users/1/secrets/new" for 127.0.0.1 at 2014-02-07 09:15:06 -0500
Processing by SecretsController#new as HTML
  Parameters: {"id"=>"1"}
  Rendered secrets/new.html.erb within layouts/application (1.1ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
Completed 200 OK in 16ms (Views: 15.4ms | ActiveRecord: 0.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:15:06 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:15:06 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:15:06 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:15:06 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:15:06 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:15:06 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:15:06 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started POST "/secrets" for 127.0.0.1 at 2014-02-07 09:15:09 -0500
Processing by SecretsController#create as HTML
  Parameters: {"secret"=>{"recipient_id"=>"1", "title"=>"Hi"}}
WARNING: Can't verify CSRF token authenticity
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" IS NULL LIMIT 1[0m
Completed 500 Internal Server Error in 8ms

RuntimeError (Called id for nil, which would mistakenly be 4 -- if you really wanted the id of nil, use object_id):
  app/controllers/secrets_controller.rb:7:in `create'


  Rendered /Users/appacademy/.rvm/gems/ruby-1.9.3-p392/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.2ms)
  Rendered /Users/appacademy/.rvm/gems/ruby-1.9.3-p392/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.1ms)
  Rendered /Users/appacademy/.rvm/gems/ruby-1.9.3-p392/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (10.9ms)


Started GET "/users/1/" for 127.0.0.1 at 2014-02-07 09:17:22 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mSecret Load (0.4ms)[0m  SELECT "secrets".* FROM "secrets" WHERE "secrets"."recipient_id" = 1
  Rendered users/show.html.erb within layouts/application (1.4ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
Completed 200 OK in 17ms (Views: 14.5ms | ActiveRecord: 1.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:17:22 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:17:22 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:22 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:22 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:22 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:17:22 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:22 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:22 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:22 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/users/1/" for 127.0.0.1 at 2014-02-07 09:17:25 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mSecret Load (0.4ms)[0m  [1mSELECT "secrets".* FROM "secrets" WHERE "secrets"."recipient_id" = 1[0m
  Rendered users/show.html.erb within layouts/application (1.2ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
Completed 200 OK in 46ms (Views: 13.4ms | ActiveRecord: 1.5ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:17:26 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:17:26 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:26 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:26 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:17:26 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:26 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:26 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:26 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/users/1/secrets/new" for 127.0.0.1 at 2014-02-07 09:17:34 -0500
Processing by SecretsController#new as HTML
  Parameters: {"id"=>"1"}
  Rendered secrets/new.html.erb within layouts/application (1.0ms)
  [1m[35mUser Load (0.8ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.5ms | ActiveRecord: 0.8ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:17:34 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:34 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:34 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:34 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:17:34 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:17:34 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:34 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:34 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:34 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started POST "/secrets" for 127.0.0.1 at 2014-02-07 09:17:39 -0500
Processing by SecretsController#create as HTML
  Parameters: {"authenticity_token"=>"QAq02Sx45ZZpiVMxH4fg1fq0u+3PFd4mx9P+TO9+gG0=", "secret"=>{"recipient_id"=>"1", "title"=>"Hi"}}
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.6ms)[0m  INSERT INTO "secrets" ("author_id", "created_at", "recipient_id", "title", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["author_id", 2], ["created_at", Fri, 07 Feb 2014 14:17:39 UTC +00:00], ["recipient_id", 1], ["title", "Hi"], ["updated_at", Fri, 07 Feb 2014 14:17:39 UTC +00:00]]
  [1m[36m (1.2ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
Redirected to http://localhost:3000/users/2
Completed 302 Found in 9ms (ActiveRecord: 4.2ms)


Started GET "/users/2" for 127.0.0.1 at 2014-02-07 09:17:39 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "2"]]
  [1m[36mSecret Load (0.5ms)[0m  [1mSELECT "secrets".* FROM "secrets" WHERE "secrets"."recipient_id" = 2[0m
  Rendered users/show.html.erb within layouts/application (1.3ms)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
Completed 200 OK in 16ms (Views: 14.0ms | ActiveRecord: 1.3ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:17:39 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:17:39 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:39 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:39 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:17:39 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:39 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:39 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/users/1" for 127.0.0.1 at 2014-02-07 09:17:44 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mSecret Load (0.4ms)[0m  SELECT "secrets".* FROM "secrets" WHERE "secrets"."recipient_id" = 1
  Rendered users/show.html.erb within layouts/application (2.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
Completed 200 OK in 20ms (Views: 17.0ms | ActiveRecord: 1.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:17:44 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:44 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:44 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:17:44 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:17:44 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:44 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:44 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:17:44 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/users/1/secrets/new" for 127.0.0.1 at 2014-02-07 09:18:41 -0500
Processing by SecretsController#new as HTML
  Parameters: {"id"=>"1"}
  Rendered secrets/new.html.erb within layouts/application (0.3ms)
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
Completed 200 OK in 58ms (Views: 54.9ms | ActiveRecord: 2.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:18:41 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:18:41 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:18:41 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:18:41 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:18:41 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:18:41 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:18:41 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:18:41 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started POST "/secrets" for 127.0.0.1 at 2014-02-07 09:18:44 -0500
Processing by SecretsController#create as HTML
  Parameters: {"authenticity_token"=>"QAq02Sx45ZZpiVMxH4fg1fq0u+3PFd4mx9P+TO9+gG0=", "secret"=>{"recipient_id"=>"1", "title"=>"Hello"}}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "secrets" ("author_id", "created_at", "recipient_id", "title", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["author_id", 2], ["created_at", Fri, 07 Feb 2014 14:18:44 UTC +00:00], ["recipient_id", 1], ["title", "Hello"], ["updated_at", Fri, 07 Feb 2014 14:18:44 UTC +00:00]]
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 1 LIMIT 1[0m
Redirected to http://localhost:3000/users/1
Completed 302 Found in 36ms (ActiveRecord: 3.5ms)


Started GET "/users/1" for 127.0.0.1 at 2014-02-07 09:18:44 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", "1"]]
  [1m[35mSecret Load (0.5ms)[0m  SELECT "secrets".* FROM "secrets" WHERE "secrets"."recipient_id" = 1
  Rendered users/show.html.erb within layouts/application (2.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
Completed 200 OK in 19ms (Views: 16.0ms | ActiveRecord: 1.3ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:18:45 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:18:45 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:18:45 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:18:45 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:18:45 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:18:45 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:18:45 -0500
Served asset /application.js - 304 Not Modified (0ms)
Connecting to database specified by database.yml
Connecting to database specified by database.yml
  [1m[36m (0.3ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Migrating to CreateUsers (20130814184542)
Migrating to AddSessionTokenToUsers (20130814223245)
Migrating to CreateSecrets (20130826014054)
Migrating to CreateFriendships (20140207141907)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (6.8ms)[0m  [1mCREATE TABLE "friendships" ("id" serial primary key, "out_friend_id" integer NOT NULL, "in_friend_id" integer NOT NULL, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (7.9ms)[0m  CREATE INDEX "index_friendships_on_out_friend_id" ON "friendships" ("out_friend_id")
  [1m[36m (0.9ms)[0m  [1mCREATE INDEX "index_friendships_on_in_friend_id" ON "friendships" ("in_friend_id")[0m
  [1m[35m (0.9ms)[0m  CREATE UNIQUE INDEX "index_friendships_on_in_friend_id_and_out_friend_id" ON "friendships" ("in_friend_id", "out_friend_id")
  [1m[36m (0.3ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ('20140207141907')[0m
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36m (0.2ms)[0m  [1mSELECT "schema_migrations"."version" FROM "schema_migrations" [0m
Connecting to database specified by database.yml
Connecting to database specified by database.yml
Connecting to database specified by database.yml


Started GET "/users/1" for 127.0.0.1 at 2014-02-07 09:42:01 -0500
Processing by UsersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", "1"]]
  [1m[36mSecret Load (0.3ms)[0m  [1mSELECT "secrets".* FROM "secrets" WHERE "secrets"."recipient_id" = 1[0m
  Rendered users/show.html.erb within layouts/application (11.8ms)
Compiled friendships.css  (1ms)  (pid 7241)
Compiled application.css  (7ms)  (pid 7241)
Compiled friendships.js  (147ms)  (pid 7241)
Compiled application.js  (155ms)  (pid 7241)
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
Completed 200 OK in 261ms (Views: 248.2ms | ActiveRecord: 4.4ms)


Started GET "/assets/friendships.css?body=1" for 127.0.0.1 at 2014-02-07 09:42:02 -0500
Served asset /friendships.css - 200 OK (7ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:42:02 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:42:02 -0500
Served asset /application.css - 304 Not Modified (4ms)


Started GET "/assets/friendships.js?body=1" for 127.0.0.1 at 2014-02-07 09:42:02 -0500
Served asset /friendships.js - 200 OK (1ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:42:02 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:42:02 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:42:02 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:42:02 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:42:02 -0500
Served asset /application.js - 304 Not Modified (5ms)


Started GET "/users" for 127.0.0.1 at 2014-02-07 09:42:04 -0500
Processing by UsersController#index as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT "users".* FROM "users" 
  Rendered users/index.html.erb within layouts/application (42.6ms)
Completed 500 Internal Server Error in 46ms

ActionView::Template::Error (undefined method `username' for nil:NilClass):
    1: <h1>Users</h1>
    2: <% @users.each do |user| %>
    3: 
    4:   <h2><%= @user.username %></h2>
    5: 
    6:   <% if User.can_friend?(current_user.id, @user.id) %>
    7:     <%= button_to "Friend", friendships_url(@user), method: :post %>
  app/views/users/index.html.erb:4:in `block in _app_views_users_index_html_erb___10279488867837556_70303417001200'
  app/views/users/index.html.erb:2:in `each'
  app/views/users/index.html.erb:2:in `_app_views_users_index_html_erb___10279488867837556_70303417001200'


  Rendered /Users/appacademy/.rvm/gems/ruby-1.9.3-p392/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.4ms)
  Rendered /Users/appacademy/.rvm/gems/ruby-1.9.3-p392/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (1.4ms)
  Rendered /Users/appacademy/.rvm/gems/ruby-1.9.3-p392/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (11.7ms)


Started GET "/users" for 127.0.0.1 at 2014-02-07 09:42:45 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" [0m
  [1m[35mUser Load (0.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  Rendered users/index.html.erb within layouts/application (3.0ms)
Completed 500 Internal Server Error in 6ms

ActionView::Template::Error (undefined method `can_friend?' for #<Class:0x007fe1950a2c50>):
    3: 
    4:   <h2><%= user.username %></h2>
    5: 
    6:   <% if User.can_friend?(current_user.id, user.id) %>
    7:     <%= button_to "Friend", friendships_url(user), method: :post %>
    8:   <% end %>
    9: <% end %>
  app/views/users/index.html.erb:6:in `block in _app_views_users_index_html_erb___10279488867837556_70303392764520'
  app/views/users/index.html.erb:2:in `each'
  app/views/users/index.html.erb:2:in `_app_views_users_index_html_erb___10279488867837556_70303392764520'


  Rendered /Users/appacademy/.rvm/gems/ruby-1.9.3-p392/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (23.2ms)
  Rendered /Users/appacademy/.rvm/gems/ruby-1.9.3-p392/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.8ms)
  Rendered /Users/appacademy/.rvm/gems/ruby-1.9.3-p392/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/template_error.erb within rescues/layout (29.0ms)


Started GET "/users" for 127.0.0.1 at 2014-02-07 09:43:10 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" [0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  [1m[36mFriendship Exists (0.6ms)[0m  [1mSELECT 1 AS one FROM "friendships" WHERE "friendships"."out_friend_id" = 2 AND "friendships"."in_friend_id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  Rendered users/index.html.erb within layouts/application (15.8ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
Completed 200 OK in 35ms (Views: 30.5ms | ActiveRecord: 3.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:43:11 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:43:11 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:43:11 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:43:11 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:43:11 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:43:11 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:43:11 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started POST "/users/1/friendships" for 127.0.0.1 at 2014-02-07 09:43:18 -0500
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"QAq02Sx45ZZpiVMxH4fg1fq0u+3PFd4mx9P+TO9+gG0=", "id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mSQL (1.3ms)[0m  [1mINSERT INTO "friendships" ("created_at", "in_friend_id", "out_friend_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Fri, 07 Feb 2014 14:43:18 UTC +00:00], ["in_friend_id", 2], ["out_friend_id", 1], ["updated_at", Fri, 07 Feb 2014 14:43:18 UTC +00:00]]
  [1m[35m (0.3ms)[0m  COMMIT
Redirected to http://localhost:3000/users
Completed 302 Found in 11ms (ActiveRecord: 2.4ms)


Started GET "/users" for 127.0.0.1 at 2014-02-07 09:43:18 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" [0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  [1m[36mFriendship Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM "friendships" WHERE "friendships"."out_friend_id" = 2 AND "friendships"."in_friend_id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  Rendered users/index.html.erb within layouts/application (3.0ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
Completed 200 OK in 22ms (Views: 20.4ms | ActiveRecord: 1.2ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:43:18 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:43:18 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:43:18 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:43:18 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:43:18 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:43:18 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:43:18 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/users" for 127.0.0.1 at 2014-02-07 09:43:21 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT "users".* FROM "users" [0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  [1m[36mFriendship Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "friendships" WHERE "friendships"."out_friend_id" = 2 AND "friendships"."in_friend_id" = 1 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  Rendered users/index.html.erb within layouts/application (3.1ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
Completed 200 OK in 21ms (Views: 18.8ms | ActiveRecord: 1.1ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:43:21 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:43:21 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:43:21 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:43:21 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:43:21 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:43:21 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:43:21 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started POST "/users/1/friendships" for 127.0.0.1 at 2014-02-07 09:43:25 -0500
Processing by FriendshipsController#create as HTML
  Parameters: {"authenticity_token"=>"QAq02Sx45ZZpiVMxH4fg1fq0u+3PFd4mx9P+TO9+gG0=", "id"=>"1"}
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "friendships" ("created_at", "in_friend_id", "out_friend_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", Fri, 07 Feb 2014 14:43:25 UTC +00:00], ["in_friend_id", 2], ["out_friend_id", 1], ["updated_at", Fri, 07 Feb 2014 14:43:25 UTC +00:00]]
PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_friendships_on_in_friend_id_and_out_friend_id"
DETAIL:  Key (in_friend_id, out_friend_id)=(2, 1) already exists.
: INSERT INTO "friendships" ("created_at", "in_friend_id", "out_friend_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"
  [1m[35m (0.1ms)[0m  ROLLBACK
Completed 500 Internal Server Error in 29ms

ActiveRecord::RecordNotUnique (PG::UniqueViolation: ERROR:  duplicate key value violates unique constraint "index_friendships_on_in_friend_id_and_out_friend_id"
DETAIL:  Key (in_friend_id, out_friend_id)=(2, 1) already exists.
: INSERT INTO "friendships" ("created_at", "in_friend_id", "out_friend_id", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"):
  app/controllers/friendships_controller.rb:4:in `create'


  Rendered /Users/appacademy/.rvm/gems/ruby-1.9.3-p392/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_trace.erb (1.5ms)
  Rendered /Users/appacademy/.rvm/gems/ruby-1.9.3-p392/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/_request_and_response.erb (0.9ms)
  Rendered /Users/appacademy/.rvm/gems/ruby-1.9.3-p392/gems/actionpack-3.2.13/lib/action_dispatch/middleware/templates/rescues/diagnostics.erb within rescues/layout (8.4ms)
Connecting to database specified by database.yml


Started GET "/users" for 127.0.0.1 at 2014-02-07 09:44:24 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" [0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  [1m[36mFriendship Exists (0.4ms)[0m  [1mSELECT 1 AS one FROM "friendships" WHERE "friendships"."out_friend_id" = 1 AND "friendships"."in_friend_id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  Rendered users/index.html.erb within layouts/application (3.3ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
Completed 200 OK in 22ms (Views: 19.6ms | ActiveRecord: 1.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:44:24 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/friendships.css?body=1" for 127.0.0.1 at 2014-02-07 09:44:24 -0500
Served asset /friendships.css - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-02-07 09:44:24 -0500
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:44:24 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:44:24 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:44:24 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/friendships.js?body=1" for 127.0.0.1 at 2014-02-07 09:44:24 -0500
Served asset /friendships.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:44:24 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:44:24 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:44:24 -0500
Served asset /application.js - 304 Not Modified (0ms)


Started GET "/users" for 127.0.0.1 at 2014-02-07 09:45:27 -0500
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT "users".* FROM "users" [0m
  [1m[35mUser Load (0.5ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  [1m[36mFriendship Exists (0.3ms)[0m  [1mSELECT 1 AS one FROM "friendships" WHERE "friendships"."out_friend_id" = 1 AND "friendships"."in_friend_id" = 2 LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
  Rendered users/index.html.erb within layouts/application (8.2ms)
  [1m[36mCACHE (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1[0m
  [1m[35mCACHE (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."session_token" = 'HcK_xz0Z2pn139w0bOypCw' LIMIT 1
Completed 200 OK in 35ms (Views: 24.2ms | ActiveRecord: 4.4ms)


Started GET "/assets/application.css?body=1" for 127.0.0.1 at 2014-02-07 09:45:27 -0500
Served asset /application.css - 304 Not Modified (0ms)


Started GET "/assets/users.css?body=1" for 127.0.0.1 at 2014-02-07 09:45:27 -0500
Served asset /users.css - 304 Not Modified (0ms)


Started GET "/assets/sessions.css?body=1" for 127.0.0.1 at 2014-02-07 09:45:27 -0500
Served asset /sessions.css - 304 Not Modified (0ms)


Started GET "/assets/friendships.css?body=1" for 127.0.0.1 at 2014-02-07 09:45:27 -0500
Served asset /friendships.css - 304 Not Modified (0ms)


Started GET "/assets/jquery.js?body=1" for 127.0.0.1 at 2014-02-07 09:45:27 -0500
Served asset /jquery.js - 304 Not Modified (0ms)


Started GET "/assets/jquery_ujs.js?body=1" for 127.0.0.1 at 2014-02-07 09:45:27 -0500
Served asset /jquery_ujs.js - 304 Not Modified (0ms)


Started GET "/assets/friendships.js?body=1" for 127.0.0.1 at 2014-02-07 09:45:27 -0500
Served asset /friendships.js - 304 Not Modified (0ms)


Started GET "/assets/sessions.js?body=1" for 127.0.0.1 at 2014-02-07 09:45:27 -0500
Served asset /sessions.js - 304 Not Modified (0ms)


Started GET "/assets/users.js?body=1" for 127.0.0.1 at 2014-02-07 09:45:27 -0500
Served asset /users.js - 304 Not Modified (0ms)


Started GET "/assets/application.js?body=1" for 127.0.0.1 at 2014-02-07 09:45:27 -0500
Served asset /application.js - 304 Not Modified (0ms)
